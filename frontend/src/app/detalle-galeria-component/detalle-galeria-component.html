<div class="min-h-screen bg-page text-primary">
  <!-- Header -->
  <header class="fixed top-0 left-0 right-0 z-50 bg-header opacity-100 backdrop-blur-sm border-b border-brand">
    <div class="absolute inset-0 gradient-header opacity-90"></div>
    <nav class="relative z-10 px-6 py-4">
      <div class="flex items-center justify-between max-w-7xl mx-auto">
        <div class="flex items-center space-x-3">
          <div class="w-12 h-12 flex-center bg-brand rounded-lg">
            <img src="assets/icons/mask.png" alt="M√°scara" class="w-full h-full p-2 filter-invert">
          </div>
          <h1 class="text-2xl font-bold metal-text text-brand">Mollerussa Metal Fest</h1>
        </div>

        <div class="hidden md:flex items-center space-x-8">
          <button (click)="volverAInicio()"
            class="flex items-center text-secondary hover-text-brand transition-colors font-medium">
            <i class="ri-arrow-left-line mr-2"></i>
            {{ 'GALERIA.VOLVER' | translate }}
          </button>
        </div>

        <button (click)="volverAInicio()" class="md:hidden w-8 h-8 flex-center text-primary">
          <i class="ri-arrow-left-line mr-2"></i>
        </button>
      </div>
    </nav>
  </header>

  <!-- Contenido Principal -->
  <main class="pt-20">
    <div class="max-w-7xl mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-5xl font-black mb-6 metal-text">Historia del MMF</h2>
        <p class="text-xl text-gray-400 max-w-3xl mx-auto">
          El Mollerussa Metal Fest va n√©ixer a la ciutat de Mollerussa (Pla d‚ÄôUrgell, Lleida) amb la voluntat de donar visibilitat a l‚Äôescena del metal, punk, hardcore i derivats a la comarca i al conjunt de Catalunya.
<br>
La iniciativa va sorgir de Andreu Trullols, amb el suport de la Regidoria de Cultura de l‚ÄôAjuntament de Mollerussa, com una manera de crear un punt de trobada per a la comunitat metalera catalana. L‚Äôobjectiu era oferir un espai per gaudir de la m√∫sica, compartir experi√®ncies i reivindicar la vitalitat de l‚Äôescena.
<br>
Tal com va dir l‚Äôorganitzaci√≥:
<br>
‚ÄúM√©s que un festival, volem que sigui una trobada entre bandes i p√∫blic, un espai de conviv√®ncia i respecte dins del m√≥n del metal catal√†.‚Äù
<br>
Valors i filosofia
<br><br>
        -->  El Mollerussa Metal Fest destaca per:
<br>
üî• Apostar per bandes de proximitat, prioritzant grups catalans i emergents.
<br>
ü§ò Car√†cter reivindicatiu i comunitari, ent√®s com una trobada m√©s que com un simple festival.
<br>
üé≠ Format √≠ntim i proper, al Teatre L‚ÄôAmistat, que afavoreix el contacte directe entre m√∫sics i p√∫blic.
<br>
üçî Activitats complement√†ries, com presentacions de llibres, servei de food-truck i punts de trobada entre bandes.
<br>
üí™ Preus populars i ambient inclusiu, per fer arribar el metal a tothom.
<br>
<br>
      --> Perspectives de futur
<br>
L‚Äôorganitzaci√≥ t√© la voluntat de consolidar el festival com una cita anual estable al calendari musical catal√†.
Entre els objectius de futur hi ha:
<br>
La creaci√≥ de l‚ÄôAssociaci√≥ Mollerussa Metal Fest per donar-li estructura legal i continu√Øtat.
<br>
L‚Äôampliaci√≥ del format amb m√©s activitats culturals i musicals paral¬∑leles.
<br>
Mantenir el focus en bandes catalanes, per√≤ obrint-se gradualment a propostes estatals i internacionals.
<br>
Import√†ncia per a la ciutat
<br>
El Mollerussa Metal Fest √©s avui un referent emergent de la m√∫sica alternativa a les Terres de Lleida. No nom√©s aporta diversitat cultural i econ√≤mica a la ciutat, sin√≥ que tamb√© consolida Mollerussa com un espai obert a la creativitat i a la m√∫sica en viu.
<br>
Amb nom√©s dues edicions, ja ha aconseguit crear una comunitat fidel i donar una nova identitat musical a la ciutat.
        </p>
      </div>

      <!-- Nueva Secci√≥n: Carteleras Hist√≥ricas -->
      <section id="Carteleras" class="py-16 mb-16 border-t border-gray-700">
        <div class="text-center mb-12">
          <h3 class="text-4xl font-black mb-4 metal-text text-red-500">{{ 'GALERIA.CARTELERAS_HISTORICAS' | translate }}</h3>
          <p class="text-lg text-gray-400 max-w-2xl mx-auto">
            {{ 'GALERIA.CARTELERAS_DESC' | translate }}
          </p>
        </div>

        <!-- Grid de Carteleras -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div *ngFor="let cartelera of carteleras; let i = index"
            class="bg-card border border-brand rounded-xl p-6 card-hover group cursor-pointer"
            (click)="abrirCartelera(i)">
            <div class="text-center mb-4">
              <span class="inline-block bg-brand text-primary px-4 py-1 rounded-full text-sm font-bold mb-3">
                {{ cartelera.anyo }}
              </span>
              <p class="text-muted text-sm">{{ cartelera.bandas }} {{ 'GALERIA.BANDAS' | translate | lowercase }}</p>
            </div>
            <div class="bg-page rounded-lg p-4 mb-4">
              <img [src]="cartelera.imagen" [alt]="cartelera.alt" class="w-full h-64 object-cover rounded-lg">
            </div>
            <div class="space-y-2">
              <div class="flex justify-between items-center text-sm">
                <span class="text-muted">{{ 'GALERIA.HEADLINERS' | translate }}:</span>
                <span class="text-brand font-semibold">{{ cartelera.headliners.join(', ') }}</span>
              </div>
              <div class="flex justify-between items-center text-sm">
                <span class="text-muted">{{ 'GALERIA.ASISTENCIA' | translate }}:</span>
                <span class="text-brand font-semibold">{{ cartelera.asistencia }}</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Estad√≠sticas hist√≥ricas -->
        <div class="mt-12 bg-gray-800/50 border border-gray-600 rounded-xl p-8">
          <h4 class="text-2xl font-bold text-center mb-6 text-red-500">{{ 'GALERIA.ESTADISTICAS' | translate }}</h4>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
            <div class="bg-black/30 p-4 rounded-lg">
              <div class="text-3xl font-black text-red-500 mb-2">{{ totalEdiciones }}</div>
              <div class="text-gray-400 text-sm">{{ 'GALERIA.EDICIONES' | translate }}</div>
            </div>
            <div class="bg-black/30 p-4 rounded-lg">
              <div class="text-3xl font-black text-yellow-500 mb-2">{{ totalBandas }}</div>
              <div class="text-gray-400 text-sm">{{ 'GALERIA.BANDAS' | translate }}</div>
            </div>
            <div class="bg-black/30 p-4 rounded-lg">
              <div class="text-3xl font-black text-green-500 mb-2">{{ totalAsistentes }}</div>
              <div class="text-gray-400 text-sm">{{ 'GALERIA.ASISTENTES' | translate }}</div>
            </div>
            <div class="bg-black/30 p-4 rounded-lg">
              <div class="text-3xl font-black text-blue-500 mb-2">{{ totalPaises }}</div>
              <div class="text-gray-400 text-sm">{{ 'GALERIA.PAISES' | translate }}</div>
            </div>
          </div>
        </div>
      </section>

      <div class="text-center mb-16">
        <h2 class="text-5xl font-black mb-6 metal-text">{{ 'GALERIA.TITULO' | translate }}</h2>
        <p class="text-xl text-gray-400 max-w-3xl mx-auto">
          {{ 'GALERIA.GALERIA_IMAGENES_DESC' | translate }}
        </p>
      </div>
      <!-- Grid de Galer√≠a de Fotos -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
        <div *ngFor="let imagen of imagenes; let i = index"
          class="bg-gray-700 rounded-lg overflow-hidden h-64 card-hover cursor-pointer group relative"
          (click)="abrirImagen(i)">
          <img [src]="imagen.url" [alt]="imagen.alt"
            class="w-full h-full object-cover object-top transition-transform duration-300 group-hover:scale-105">
          <div
            class="absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center">
            <i
              class="ri-zoom-in-line text-3xl text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"></i>
          </div>
        </div>
      </div>

      <!-- Bot√≥n Volver -->
      <div class="text-center py-20">
        <button (click)="volverAInicio()"
          class="btn-outline-brand px-8 py-3 rounded-lg font-bold transition-all">
          {{ 'GALERIA.VOLVER_INICIO' | translate }}
        </button>
      </div>
    </div>
  </main>

  <!-- Modal/Lightbox para Im√°genes de Galer√≠a -->
  <div *ngIf="imagenActiva !== null && !carteleraActiva"
    class="fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex items-center justify-center p-4"
    (click)="cerrarImagen()">

    <div class="relative max-w-7xl max-h-[90vh] w-full" (click)="$event.stopPropagation()">
      <button (click)="cerrarImagen()"
        class="absolute -top-4 -right-4 z-10 bg-red-600 hover:bg-red-700 text-white w-10 h-10 rounded-full flex items-center justify-center transition-all shadow-lg">
        <i class="ri-close-line text-xl"></i>
      </button>

      <button *ngIf="imagenes.length > 1" (click)="imagenAnterior()"
        class="absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/70 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all backdrop-blur-sm">
        <i class="ri-arrow-left-s-line text-2xl"></i>
      </button>

      <button *ngIf="imagenes.length > 1" (click)="imagenSiguiente()"
        class="absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/70 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all backdrop-blur-sm">
        <i class="ri-arrow-right-s-line text-2xl"></i>
      </button>

      <div class="flex justify-center items-center h-full">
        <img [src]="imagenes[imagenActiva].url" [alt]="imagenes[imagenActiva].alt"
          class="max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl">
      </div>

      <div
        class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 backdrop-blur-sm text-white px-6 py-3 rounded-full min-w-[200px] text-center">
        <p class="text-sm font-medium">{{ imagenes[imagenActiva].alt }}</p>
        <p class="text-xs text-gray-300 mt-1">
          {{ imagenActiva + 1 }} / {{ imagenes.length }}
        </p>
      </div>
    </div>
  </div>

  <!-- Modal/Lightbox para Carteleras -->
  <div *ngIf="carteleraActiva !== null"
    class="fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex items-center justify-center p-4"
    (click)="cerrarCartelera()">

    <div class="relative max-w-4xl max-h-[90vh] w-full" (click)="$event.stopPropagation()">
      <button (click)="cerrarCartelera()"
        class="absolute -top-4 -right-4 z-10 bg-red-600 hover:bg-red-700 text-white w-10 h-10 rounded-full flex items-center justify-center transition-all shadow-lg">
        <i class="ri-close-line text-xl"></i>
      </button>

      <button *ngIf="carteleras.length > 1" (click)="carteleraAnterior()"
        class="absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/70 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all backdrop-blur-sm">
        <i class="ri-arrow-left-s-line text-2xl"></i>
      </button>

      <button *ngIf="carteleras.length > 1" (click)="carteleraSiguiente()"
        class="absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/70 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all backdrop-blur-sm">
        <i class="ri-arrow-right-s-line text-2xl"></i>
      </button>

      <div class="flex justify-center items-center h-full">
        <img [src]="carteleras[carteleraActiva].imagen" [alt]="carteleras[carteleraActiva].alt"
          class="max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl">
      </div>

      <div
        class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 backdrop-blur-sm text-white px-6 py-3 rounded-full min-w-[300px] text-center">
        <p class="text-sm font-medium">Cartelera {{ carteleras[carteleraActiva].anyo }}</p>
        <p class="text-xs text-gray-300 mt-1">
          {{ carteleraActiva + 1 }} / {{ carteleras.length }}
        </p>
      </div>
    </div>
  </div>
</div>