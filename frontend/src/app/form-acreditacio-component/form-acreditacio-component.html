<header class="fixed top-0 left-0 right-0 z-50 bg-header opacity-100 backdrop-blur-sm border-b border-brand">
    <div class="absolute inset-0 gradient-header opacity-90"></div>
    <nav class="relative z-10 px-6 py-4">
      <div class="flex items-center justify-between max-w-7xl mx-auto">
        <div class="flex items-center space-x-3">
          <div class="w-12 h-12 flex-center bg-brand rounded-lg">
            <img src="assets/icons/mask.png" alt="M√°scara" class="w-full h-full p-2 filter-invert">
          </div>
          <h1 class="text-2xl font-bold metal-text text-brand">Mollerussa Metal Fest</h1>
        </div>

        <div class="hidden md:flex items-center space-x-8">
          <button (click)="volverAInicio()"
            class="flex items-center text-secondary hover-text-brand transition-colors font-medium">
            <i class="ri-arrow-left-line mr-2"></i>
            Volver al inicio
          </button>
        </div>

        <button (click)="volverAInicio()" class="md:hidden w-8 h-8 flex-center text-primary">
          <i class="ri-arrow-left-line mr-2"></i>
        </button>
      </div>
    </nav>
  </header>

<section class="min-h-screen bg-page py-12">
    <div class="max-w-4xl mx-auto px-6">
        <!-- Bot√≥n volver -->
        <div class="mb-8">
            <button (click)="volverAInicio()"
                class="flex items-center text-brand hover-text-brand font-medium transition-colors">
                <i class="ri-arrow-left-line mr-2"></i>
                Volver al inicio
            </button>
        </div>

        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-black metal-text text-brand mb-4">üé§ ACREDITACI√ìN PRENSA & INFLUENCERS</h1>
            <p class="text-xl text-muted max-w-2xl mx-auto">
                Los campos marcados con * son obligatorios
            </p>
        </div>

        <!-- Formulario -->
        <div class="bg-card border-2 border-brand rounded-lg p-8 glow-effect">
            <form (ngSubmit)="onSubmit()" class="space-y-8">

                <!-- Tipo de Acreditaci√≥n -->
                <div>
                    <label class="block text-primary font-bold mb-4 text-xl">Tipo de Acreditaci√≥n *</label>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <label
                            class="flex items-center p-6 border-2 border-custom rounded-lg cursor-pointer hover:border-brand transition-all duration-200 bg-page"
                            [class.border-brand]="isFieldInvalid('tipo')">
                            <input type="radio" name="tipo" value="prensa" [(ngModel)]="formData.tipo"
                                class="mr-4 text-brand focus:ring-brand transform scale-125" required>
                            <div>
                                <div class="font-bold text-primary text-lg">üì∞ Medio de Comunicaci√≥n</div>
                                <div class="text-muted mt-1">Prensa, radio, TV, medios digitales</div>
                            </div>
                        </label>
                        <label
                            class="flex items-center p-6 border-2 border-custom rounded-lg cursor-pointer hover:border-brand transition-all duration-200 bg-page"
                            [class.border-brand]="isFieldInvalid('tipo')">
                            <input type="radio" name="tipo" value="influencer" [(ngModel)]="formData.tipo"
                                class="mr-4 text-brand focus:ring-brand transform scale-125" required>
                            <div>
                                <div class="font-bold text-primary text-lg">üåü Influencer/Creador</div>
                                <div class="text-muted mt-1">Redes sociales, contenido digital</div>
                            </div>
                        </label>
                    </div>
                    <div *ngIf="isFieldInvalid('tipo')" class="text-red-400 text-sm mt-2 flex items-center">
                        <i class="ri-error-warning-line mr-1"></i>
                        Este campo es obligatorio
                    </div>
                </div>

                <!-- Informaci√≥n Personal -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-primary font-bold mb-3">Nombre completo *</label>
                        <input type="text" [(ngModel)]="formData.nombre" name="nombre"
                            class="w-full bg-page border-2 border-custom rounded-lg px-4 py-4 text-primary focus:border-brand focus:ring-2 focus:ring-brand outline-none transition-all"
                            [class.border-brand]="isFieldInvalid('nombre')" required>
                        <div *ngIf="isFieldInvalid('nombre')" class="text-red-400 text-sm mt-1 flex items-center">
                            <i class="ri-error-warning-line mr-1"></i>
                            Este campo es obligatorio
                        </div>
                    </div>
                    <div>
                        <label class="block text-primary font-bold mb-3">Email *</label>
                        <input type="email" [(ngModel)]="formData.email" name="email"
                            class="w-full bg-page border-2 border-custom rounded-lg px-4 py-4 text-primary focus:border-brand focus:ring-2 focus:ring-brand outline-none transition-all"
                            [class.border-brand]="isEmailInvalid()" required>
                        <div *ngIf="isEmailInvalid()" class="text-red-400 text-sm mt-1 flex items-center">
                            <i class="ri-error-warning-line mr-1"></i>
                            {{ formData.email === '' ? 'Este campo es obligatorio' : 'Email no v√°lido' }}
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-primary font-bold mb-3">Tel√©fono *</label>
                        <input type="tel" [(ngModel)]="formData.telefono" name="telefono" placeholder="+34 123 456 789"
                            class="w-full bg-page border-2 border-custom rounded-lg px-4 py-4 text-primary focus:border-brand focus:ring-2 focus:ring-brand outline-none transition-all"
                            [class.border-brand]="isTelefonoInvalid()" required>
                        <div *ngIf="isTelefonoInvalid()" class="text-red-400 text-sm mt-1 flex items-center">
                            <i class="ri-error-warning-line mr-1"></i>
                            {{ formData.telefono === '' ? 'Este campo es obligatorio' : 'Tel√©fono no v√°lido' }}
                        </div>
                    </div>
                    <div>
                        <label class="block text-primary font-bold mb-3">Documento de Identidad *</label>
                        <input type="text" [(ngModel)]="formData.documentoIdentidad" name="documentoIdentidad"
                            placeholder="DNI, NIE, Pasaporte..."
                            class="w-full bg-page border-2 border-custom rounded-lg px-4 py-4 text-primary focus:border-brand focus:ring-2 focus:ring-brand outline-none transition-all"
                            [class.border-brand]="isFieldInvalid('documentoIdentidad')" required>
                        <div *ngIf="isFieldInvalid('documentoIdentidad')"
                            class="text-red-400 text-sm mt-1 flex items-center">
                            <i class="ri-error-warning-line mr-1"></i>
                            Este campo es obligatorio
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-primary font-bold mb-3">Ciudad o Pa√≠s de Residencia</label>
                        <input type="text" [(ngModel)]="formData.ciudadResidencia" name="ciudadResidencia"
                            placeholder="Ej: Madrid, Espa√±a"
                            class="w-full bg-page border-2 border-custom rounded-lg px-4 py-4 text-primary focus:border-brand focus:ring-2 focus:ring-brand outline-none transition-all">
                        <div class="text-muted text-sm mt-1">Opcional - Para acreditaciones internacionales</div>
                    </div>
                    <div>
                        <label class="block text-primary font-bold mb-3">Redes Sociales</label>
                        <input type="text" [(ngModel)]="formData.redesSociales" name="redesSociales"
                            placeholder="@usuario (Instagram, Twitter, TikTok...)"
                            class="w-full bg-page border-2 border-custom rounded-lg px-4 py-4 text-primary focus:border-brand focus:ring-2 focus:ring-brand outline-none transition-all">
                        <div class="text-muted text-sm mt-1">Opcional</div>
                    </div>
                </div>

                <!-- Campos espec√≠ficos -->
                <div *ngIf="formData.tipo === 'prensa'">
                    <label class="block text-primary font-bold mb-3">Medio de Comunicaci√≥n *</label>
                    <input type="text" [(ngModel)]="formData.medio" name="medio"
                        placeholder="Nombre del medio, programa, secci√≥n..."
                        class="w-full bg-page border-2 border-custom rounded-lg px-4 py-4 text-primary focus:border-brand focus:ring-2 focus:ring-brand outline-none transition-all"
                        [class.border-brand]="isFieldInvalid('medio')" required>
                    <div *ngIf="isFieldInvalid('medio')" class="text-red-400 text-sm mt-1 flex items-center">
                        <i class="ri-error-warning-line mr-1"></i>
                        Este campo es obligatorio para medios de comunicaci√≥n
                    </div>
                </div>

                <div *ngIf="formData.tipo === 'influencer'">
                    <label class="block text-primary font-bold mb-3">Plataformas y Seguidores *</label>
                    <textarea [(ngModel)]="formData.plataformas" name="plataformas"
                        placeholder="Ej: Instagram: @usuario (50k seguidores), TikTok: @usuario (30k), YouTube: @canal (20k)..."
                        rows="3"
                        class="w-full bg-page border-2 border-custom rounded-lg px-4 py-4 text-primary focus:border-brand focus:ring-2 focus:ring-brand outline-none transition-all"
                        [class.border-brand]="isFieldInvalid('plataformas')" required></textarea>
                    <div *ngIf="isFieldInvalid('plataformas')" class="text-red-400 text-sm mt-1 flex items-center">
                        <i class="ri-error-warning-line mr-1"></i>
                        Este campo es obligatorio para influencers
                    </div>
                </div>

                <!-- Cobertura Propuesta -->
                <div>
                    <label class="block text-primary font-bold mb-3">Cobertura Propuesta *</label>
                    <textarea [(ngModel)]="formData.cobertura" name="cobertura"
                        placeholder="Describe c√≥mo planeas cubrir el festival, tipo de contenido (art√≠culos, fotos, videos, stories), alcance esperado, p√∫blico objetivo..."
                        rows="5"
                        class="w-full bg-page border-2 border-custom rounded-lg px-4 py-4 text-primary focus:border-brand focus:ring-2 focus:ring-brand outline-none transition-all"
                        [class.border-brand]="isFieldInvalid('cobertura')" required></textarea>
                    <div *ngIf="isFieldInvalid('cobertura')" class="text-red-400 text-sm mt-1 flex items-center">
                        <i class="ri-error-warning-line mr-1"></i>
                        Este campo es obligatorio
                    </div>
                </div>

                <!-- Necesidades Especiales -->
                <div>
                    <label class="block text-primary font-bold mb-3">Necesidades Especiales</label>
                    <textarea [(ngModel)]="formData.necesidadesEspeciales" name="necesidadesEspeciales"
                        placeholder="Accesibilidad, acompa√±antes, equipo t√©cnico, requisitos especiales..." rows="3"
                        class="w-full bg-page border-2 border-custom rounded-lg px-4 py-4 text-primary focus:border-brand focus:ring-2 focus:ring-brand outline-none transition-all"></textarea>
                    <div class="text-muted text-sm mt-1">Opcional</div>
                </div>

                <!-- Avisos Legales -->
                <div class="space-y-4">
                    <!-- T√©rminos y Condiciones -->
                    <div class="bg-page border-2 border-custom rounded-lg p-6"
                        [class.border-brand]="formSubmitted && !formData.aceptoTerminos">
                        <label class="flex items-start">
                            <input type="checkbox" [(ngModel)]="formData.aceptoTerminos" name="aceptoTerminos"
                                class="mr-4 mt-1 text-brand focus:ring-brand transform scale-125" required>
                            <span class="text-secondary text-sm leading-relaxed">
                                <strong>Acepto los t√©rminos y condiciones.</strong> Entiendo que esta solicitud no
                                garantiza la acreditaci√≥n y ser√° evaluada por el equipo organizador. Me comprometo a
                                utilizar la acreditaci√≥n √∫nicamente para fines profesionales y a proporcionar la
                                cobertura prometida. El incumplimiento de estos t√©rminos puede resultar en la revocaci√≥n
                                de la acreditaci√≥n. *
                            </span>
                        </label>
                        <div *ngIf="formSubmitted && !formData.aceptoTerminos"
                            class="text-red-400 text-sm mt-2 flex items-center">
                            <i class="ri-error-warning-line mr-1"></i>
                            Debes aceptar los t√©rminos y condiciones
                        </div>
                    </div>

                    <!-- Pol√≠tica de Privacidad -->
                    <div class="bg-page border-2 border-custom rounded-lg p-6"
                        [class.border-brand]="formSubmitted && !formData.aceptoPoliticaPrivacidad">
                        <label class="flex items-start">
                            <input type="checkbox" [(ngModel)]="formData.aceptoPoliticaPrivacidad"
                                name="aceptoPoliticaPrivacidad"
                                class="mr-4 mt-1 text-brand focus:ring-brand transform scale-125" required>
                            <span class="text-secondary text-sm leading-relaxed">
                                <strong>He le√≠do y acepto la </strong>
                                <button type="button" (click)="openPoliticaPrivacidad()"
                                    class="text-brand hover-text-brand underline font-semibold transition-colors">
                                    Pol√≠tica de privacidad
                                </button>
                                <strong> y consiento el tratamiento de mis datos para gestionar la solicitud de
                                    acreditaci√≥n.</strong> *
                            </span>
                        </label>
                        <div *ngIf="formSubmitted && !formData.aceptoPoliticaPrivacidad"
                            class="text-red-400 text-sm mt-2 flex items-center">
                            <i class="ri-error-warning-line mr-1"></i>
                            Debes aceptar la pol√≠tica de privacidad
                        </div>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-4 pt-6">
                        <button type="submit" [disabled]="enviando"
                            class="w-full sm:flex-1 btn-brand py-4 sm:py-5 px-6 sm:px-8 rounded-lg text-base sm:text-lg flex items-center justify-center transform hover:scale-105">
                            <span *ngIf="!enviando">
                                <i class="ri-send-plane-line mr-2 sm:mr-3"></i>
                                ENVIAR SOLICITUD
                            </span>
                            <span *ngIf="enviando">
                                <i class="ri-loader-4-line animate-spin mr-2 sm:mr-3"></i>
                                ENVIANDO...
                            </span>
                        </button>
                        <button type="button" (click)="volverAInicio()"
                            class="w-full sm:flex-1 bg-card hover:bg-custom btn-outline-brand font-bold py-4 sm:py-5 px-6 sm:px-8 rounded-lg transition-all duration-200 text-base sm:text-lg">
                            <i class="ri-arrow-left-line mr-2"></i>
                            Volver al Inicio
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Pol√≠tica de Privacidad -->
    <div *ngIf="showPoliticaPrivacidad"
        class="fixed inset-0 bg-header z-50 flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-page border-2 border-brand rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <!-- Header -->
            <div class="bg-brand p-6 sticky top-0 z-10">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-black text-primary">üîí POL√çTICA DE PRIVACIDAD</h2>
                    <button (click)="closePoliticaPrivacidad()"
                        class="text-primary hover:text-secondary text-2xl transition-colors">
                        &times;
                    </button>
                </div>
                <p class="text-primary mt-2">Acreditaci√≥n de Prensa e Influencers</p>
            </div>

            <!-- Contenido -->
            <div class="p-8 space-y-8">
                <!-- 1. Identidad del Responsable -->
                <section>
                    <h3 class="text-xl font-bold text-brand mb-4">1. Identidad del Responsable</h3>
                    <div class="bg-card border border-custom rounded-lg p-6 space-y-3">
                        <p class="text-secondary"><strong>Responsable del tratamiento:</strong>
                            {{configGlobal.festival.nombreCompleto}}</p>
                        <p class="text-secondary"><strong>NIF/CIF:</strong> {{configGlobal.festival.NIF}}</p>
                        <p class="text-secondary"><strong>Correo electr√≥nico de contacto:</strong>
                            {{configGlobal.contactos.email}}</p>
                        <p class="text-secondary"><strong>Sitio web:</strong> {{configGlobal.contactos.web}}</p>
                    </div>
                </section>

                <!-- 2. Finalidad del tratamiento de datos -->
                <section>
                    <h3 class="text-xl font-bold text-brand mb-4">2. Finalidad del tratamiento de datos</h3>
                    <div class="bg-card border border-custom rounded-lg p-6">
                        <p class="text-secondary mb-4">Los datos personales recabados a trav√©s del formulario de
                            acreditaci√≥n se tratar√°n con las siguientes finalidades:</p>
                        <ul class="text-secondary space-y-2 list-disc list-inside">
                            <li>Gestionar las solicitudes de acreditaci√≥n de prensa e influencers para el evento
                                <strong>{{configGlobal.festival.nombreCompleto}}</strong>.
                            </li>
                            <li>Verificar la informaci√≥n facilitada y contactar con el solicitante para confirmar su
                                acreditaci√≥n.</li>
                            <li>Facilitar informaci√≥n relacionada con el evento, incluyendo horarios, normas de acceso y
                                actividades especiales.</li>
                            <li>Verificar la identidad del solicitante mediante su n√∫mero de documento (DNI, NIE o
                                pasaporte) y garantizar la seguridad y control de acceso al recinto del evento.</li>
                        </ul>
                        <p class="text-secondary mt-4"><strong>No se tomar√°n decisiones automatizadas ni se elaborar√°n
                                perfiles con los datos recogidos.</strong></p>
                    </div>
                </section>

                <!-- 3. Legitimaci√≥n del tratamiento -->
                <section>
                    <h3 class="text-xl font-bold text-brand mb-4">3. Legitimaci√≥n del tratamiento</h3>
                    <div class="bg-card border border-custom rounded-lg p-6">
                        <p class="text-secondary">La base legal para el tratamiento de los datos es:</p>
                        <ul class="text-secondary space-y-2 list-disc list-inside mt-2">
                            <li>El <strong>consentimiento del interesado</strong>, otorgado al enviar el formulario.
                            </li>
                            <li>El <strong>inter√©s leg√≠timo</strong> del organizador en garantizar la seguridad y la
                                verificaci√≥n de identidad de las personas acreditadas mediante su documento
                                identificativo.</li>
                        </ul>
                    </div>
                </section>

                <!-- 4. Conservaci√≥n de los datos -->
                <section>
                    <h3 class="text-xl font-bold text-brand mb-4">4. Conservaci√≥n de los datos</h3>
                    <div class="bg-card border border-custom rounded-lg p-6">
                        <p class="text-secondary">
                            Los datos personales se conservar√°n √∫nicamente durante el tiempo necesario para tramitar las
                            acreditaciones y gestionar el evento.
                            Finalizado el evento, los datos ‚Äîincluido el n√∫mero de documento de identidad‚Äî ser√°n
                            suprimidos o anonimizados,
                            salvo aquellos que deban conservarse por obligaci√≥n legal o para atender posibles
                            reclamaciones.
                        </p>
                    </div>
                </section>

                <!-- 5. Destinatarios de los datos -->
                <section>
                    <h3 class="text-xl font-bold text-brand mb-4">5. Destinatarios de los datos</h3>
                    <div class="bg-card border border-custom rounded-lg p-6">
                        <p class="text-secondary mb-4">Los datos no se comunicar√°n a terceros, salvo en los siguientes
                            casos:</p>
                        <ul class="text-secondary space-y-2 list-disc list-inside">
                            <li>Cuando sea necesario para la correcta organizaci√≥n del evento (por ejemplo, empresas de
                                seguridad, personal de acreditaci√≥n o proveedores t√©cnicos).</li>
                            <li>Por obligaci√≥n legal o requerimiento de una autoridad p√∫blica.</li>
                        </ul>
                        <p class="text-secondary mt-4"><strong>En ning√∫n caso se realizar√°n transferencias
                                internacionales de datos sin las garant√≠as adecuadas establecidas por la normativa
                                vigente.</strong></p>
                    </div>
                </section>

                <!-- 6. Derechos de los interesados -->
                <section>
                    <h3 class="text-xl font-bold text-brand mb-4">6. Derechos de los interesados</h3>
                    <div class="bg-card border border-custom rounded-lg p-6">
                        <p class="text-secondary mb-4">Puedes ejercer tus derechos de:</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-4">
                            <div class="flex items-center text-secondary">
                                <i class="ri-checkbox-circle-line text-green-500 mr-2"></i>
                                <span>Acceso: conocer qu√© datos tratamos sobre ti.</span>
                            </div>
                            <div class="flex items-center text-secondary">
                                <i class="ri-checkbox-circle-line text-green-500 mr-2"></i>
                                <span>Rectificaci√≥n: solicitar la correcci√≥n de datos inexactos.</span>
                            </div>
                            <div class="flex items-center text-secondary">
                                <i class="ri-checkbox-circle-line text-green-500 mr-2"></i>
                                <span>Supresi√≥n: pedir la eliminaci√≥n de tus datos cuando ya no sean necesarios.</span>
                            </div>
                            <div class="flex items-center text-secondary">
                                <i class="ri-checkbox-circle-line text-green-500 mr-2"></i>
                                <span>Limitaci√≥n: solicitar que no se traten temporalmente tus datos.</span>
                            </div>
                            <div class="flex items-center text-secondary">
                                <i class="ri-checkbox-circle-line text-green-500 mr-2"></i>
                                <span>Oposici√≥n: oponerte al tratamiento por motivos leg√≠timos.</span>
                            </div>
                            <div class="flex items-center text-secondary">
                                <i class="ri-checkbox-circle-line text-green-500 mr-2"></i>
                                <span>Portabilidad: recibir tus datos en formato electr√≥nico y transferirlos a otro
                                    responsable.</span>
                            </div>
                        </div>
                        <p class="text-secondary mb-2">
                            Para ejercer estos derechos, env√≠a una solicitud escrita junto con un documento acreditativo
                            de tu identidad a:
                        </p>
                        <p class="text-brand font-semibold mb-4">üì© {{configGlobal.contactos.email}}</p>
                        <p class="text-secondary">
                            Tambi√©n puedes presentar una reclamaci√≥n ante la Agencia Espa√±ola de Protecci√≥n de Datos
                            (AEPD) si consideras que el tratamiento de tus datos no se ajusta a la normativa:
                        </p>
                        <p class="text-brand font-semibold">üåê www.aepd.es</p>
                    </div>
                </section>

                <!-- 7. Medidas de seguridad -->
                <section>
                    <h3 class="text-xl font-bold text-brand mb-4">7. Medidas de seguridad</h3>
                    <div class="bg-card border border-custom rounded-lg p-6">
                        <p class="text-secondary">
                            El responsable aplica medidas t√©cnicas y organizativas adecuadas para garantizar la
                            confidencialidad, integridad y disponibilidad de los datos personales,
                            evitando su alteraci√≥n, p√©rdida, tratamiento o acceso no autorizado.
                        </p>
                        <p class="text-secondary mt-3">
                            En particular, se establecen controles de acceso restringido y protocolos de eliminaci√≥n
                            segura de la informaci√≥n una vez cumplida su finalidad.
                        </p>
                    </div>
                </section>

                <!-- 8. Modificaciones de esta pol√≠tica -->
                <section>
                    <h3 class="text-xl font-bold text-brand mb-4">8. Modificaciones de esta pol√≠tica</h3>
                    <div class="bg-card border border-custom rounded-lg p-6">
                        <p class="text-secondary">
                            El responsable se reserva el derecho de modificar la presente Pol√≠tica de Privacidad para
                            adaptarla a novedades legislativas o cambios en la gesti√≥n del evento.
                            La versi√≥n vigente estar√° siempre disponible en esta misma p√°gina.
                        </p>
                    </div>
                </section>

                <!-- Bot√≥n de cierre -->
                <div class="flex justify-center pt-6">
                    <button (click)="closePoliticaPrivacidad()"
                        class="btn-brand py-3 px-8 rounded-lg">
                        Cerrar Pol√≠tica de Privacidad
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>