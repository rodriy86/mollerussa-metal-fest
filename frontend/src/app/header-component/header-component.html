<nav class="fixed top-0 left-0 right-0 z-50 px-6 py-4 gradient-header border-b border-brand">

  <div class="flex items-center justify-between max-w-7xl mx-auto">

    <!-- Logo -->
    <div class="flex items-center space-x-3 z-50">
      <div class="w-12 h-12 flex-center bg-brand rounded-lg">
        <img src="assets/icons/mask.png" alt="Máscara" class="w-full h-full p-2 filter-invert">
      </div>
      <h1 class="text-2xl font-bold metal-text text-brand">{{configGlobal.festival.nombreCompleto}}</h1>
    </div>

    <!-- Menú Desktop -->
    <div class="hidden md:flex space-x-8 items-center">
      <a (click)="scrollTo('Inicio')"
        class="cursor-pointer text-secondary hover-text-brand transition-colors font-medium">Inicio</a>
      <a (click)="scrollTo('noticias')"
        class="cursor-pointer text-secondary hover-text-brand transition-colors font-medium">Noticias</a>
      <a (click)="scrollTo('Lineup')"
        class="cursor-pointer text-secondary hover-text-brand transition-colors font-medium">Cartelera</a>
      <a (click)="scrollTo('Informacion')"
        class="cursor-pointer text-secondary hover-text-brand transition-colors font-medium">Información</a>
      <a (click)="scrollTo('Ubicacion')"
        class="cursor-pointer text-secondary hover-text-brand transition-colors font-medium">Ubicación</a>
      <a (click)="scrollTo('contacto')"
        class="cursor-pointer text-secondary hover-text-brand transition-colors font-medium">Contacto</a>
      <a [routerLink]="['/detalle-galeria']"
        class="cursor-pointer text-secondary hover-text-brand transition-colors font-medium">
        Galeria
      </a>

      <!-- Selector de Idiomas Simple -->
      <div class="relative">
        <button (click)="toggleLanguageDropdown()"
          class="flex items-center gap-2 px-3 py-2 rounded-lg border border-brand bg-transparent hover:bg-white/10 transition-all duration-200">
          <span class="text-primary text-sm font-medium"><!--{{ currentLanguage.flag }}--> {{ currentLanguage.code }}</span>
          <i class="ri-arrow-down-s-line text-muted transition-transform duration-300 text-sm"
            [class.rotate-180]="isLanguageDropdownOpen"></i>
        </button>

        <!-- Lista desplegable -->
        <div
          class="absolute top-full right-0 mt-2 w-40 rounded-lg bg-page border border-brand shadow-custom backdrop-blur-sm transition-all duration-300 z-50"
          [class]="isLanguageDropdownOpen ? 'opacity-100 visible translate-y-0' : 'opacity-0 invisible -translate-y-2'">
          <div class="py-2">
            @for (language of availableLanguages; track language.code) {
            <button (click)="selectLanguage(language)"
              class="w-full flex items-center gap-3 px-4 py-3 text-sm transition-all duration-200 hover-bg-brand-dark"
              [class]="language.code === currentLanguage.code ? 'text-brand bg-card font-bold' : 'text-secondary'">
              <!--<span class="text-base">{{ language.flag }}</span>-->
              <span class="flex-1 text-left">{{ language.name }}</span>
              <span class="text-xs text-muted">{{ language.code }}</span>
            </button>
            }
          </div>
        </div>
      </div>
    </div>

    <!-- Botón Hamburguesa -->
    <button class="md:hidden w-8 h-8 flex-center text-primary z-50" (click)="toggleMenu()">
      <i class="ri-menu-line text-xl" *ngIf="!isMenuOpen"></i>
      <i class="ri-close-line text-xl" *ngIf="isMenuOpen"></i>
    </button>
  </div>

  <!-- Menú Móvil -->
  <div class="md:hidden fixed top-0 left-0 w-full h-full bg-page z-40 mt-16" *ngIf="isMenuOpen">
    <div class="flex flex-col space-y-6 p-8 pt-20">
      <a (click)="scrollTo('Inicio'); toggleMenu();"
        class="cursor-pointer text-primary hover-text-brand transition-colors font-medium py-3 text-lg border-b border-custom">Inicio</a>
      <a (click)="scrollTo('noticias'); toggleMenu();"
        class="cursor-pointer text-primary hover-text-brand transition-colors font-medium py-3 text-lg border-b border-custom">Noticias</a>
      <a (click)="scrollTo('Lineup'); toggleMenu();"
        class="cursor-pointer text-primary hover-text-brand transition-colors font-medium py-3 text-lg border-b border-custom">Cartelera</a>
      <a (click)="scrollTo('Informacion'); toggleMenu();"
        class="cursor-pointer text-primary hover-text-brand transition-colors font-medium py-3 text-lg border-b border-custom">Información</a>
      <a (click)="scrollTo('Ubicacion'); toggleMenu();"
        class="cursor-pointer text-primary hover-text-brand transition-colors font-medium py-3 text-lg border-b border-custom">Ubicación</a>
      <a (click)="scrollTo('contacto'); toggleMenu();"
        class="cursor-pointer text-primary hover-text-brand transition-colors font-medium py-3 text-lg border-b border-custom">Contacto</a>
      <a (click)=" toggleMenu();" [routerLink]="['/detalle-galeria']"
        class="cursor-pointer text-primary hover-text-brand transition-colors font-medium py-3 text-lg border-b border-custom">
        Galeria
      </a>

      <!-- Selector de Idiomas Móvil -->
      <div class="pt-6 border-t border-custom">
        <div class="text-muted text-sm mb-3">Idioma / Language</div>
        <div class="grid grid-cols-2 gap-2">
          @for (language of availableLanguages; track language.code) {
          <button (click)="selectLanguage(language); toggleMenu();"
            class="flex items-center gap-2 px-3 py-2 rounded-lg border border-brand transition-all duration-200 text-sm"
            [class]="language.code === currentLanguage.code ? 'bg-card text-brand font-bold' : 'bg-page text-secondary hover:bg-card'">
            <span class="text-base"><!--{{ language.flag }}--></span>
            <span>{{ language.code }}</span>
          </button>
          }
        </div>
      </div>
    </div>
  </div>
</nav>

<!-- Selector de Idiomas Móvil 
      <div class="pt-6 border-t border-gray-700">
        <div class="text-gray-400 text-sm mb-3">Idioma / Language</div>
        <div class="grid grid-cols-2 gap-2">
          @for (language of availableLanguages; track language.code) {
            <button
              (click)="selectLanguage(language); toggleMenu();"
              class="flex items-center gap-2 px-3 py-2 rounded-lg border border-red-600/30 transition-all duration-200 text-sm"
              [class]="language.code === currentLanguage.code ? 'bg-red-600/20 text-red-400 font-bold' : 'bg-gray-800/50 text-gray-300 hover:bg-gray-700'"
            >
              <span class="text-base">{{ language.flag }}</span>
              <span>{{ language.code }}</span>
            </button>
          }
        </div>
      </div>-->