<div class="min-h-screen bg-page text-roig">
  <!-- Header -->
  <header class="fixed top-0 left-0 right-0 z-50 bg-header opacity-100 backdrop-blur-sm border-b border-brand">
    <div class="absolute inset-0 gradient-header opacity-90"></div>
    <nav class="relative z-10 px-6 py-4">
      <div class="flex items-center justify-between max-w-7xl mx-auto">
        <div class="flex items-center space-x-3">
          <div class="w-12 h-12 flex-center bg-brand rounded-lg">
            <img src="assets/icons/Logo Blanc.png" alt="M치scara" class="w-full h-full p-2 filter-invert">
          </div>
          <h1 class="text-2xl font-bold metal-text text-brand">Mollerussa Metal Fest</h1>
        </div>

        <div class="hidden md:flex items-center space-x-8">
          <button (click)="volverAInicio()"
            class="flex items-center text-secondary hover-text-brand transition-colors font-medium">
            <i class="ri-arrow-left-line mr-2"></i>
            {{ 'GALERIA.VOLVER' | translate }}
          </button>
        </div>

        <button (click)="volverAInicio()" class="md:hidden w-8 h-8 flex-center text-roig">
          <i class="ri-arrow-left-line mr-2"></i>
        </button>
      </div>
    </nav>
  </header>

  <!-- Contenido Principal -->
  <main class="pt-20">
    <div class="max-w-7xl mx-auto px-6">
      <!-- Secci칩n Historia -->
      <div class="mb-16">
        <div class="max-w-4xl mx-auto">
          <!-- T칤tulo centrado -->
          <div class="text-center mb-12">
            <h2 class="text-5xl font-black mb-4 metal-text text-roig">{{ 'GALERIA.HISTORIA_TITULO' | translate }}</h2>
            <div class="w-24 h-1 bg-brand mx-auto"></div>
          </div>

          <!-- Contenido alineado a la izquierda -->
          <div class="space-y-8 text-left">
            <!-- Or칤genes -->
            <div class="space-y-4">
              <h3 class="text-2xl font-bold text-roig">{{ 'GALERIA.HISTORIA_ORIGENES' | translate }}</h3>
              <p class="text-lg leading-relaxed text-gray-300">
                {{ 'GALERIA.HISTORIA_ORIGEN_1' | translate }}
              </p>
              <p class="text-lg leading-relaxed text-gray-300">
                {{ 'GALERIA.HISTORIA_ORIGEN_2' | translate }}
              </p>
            </div>

            <!-- Cita destacada -->
            <div class="bg-gray-800/50 border-l-4 border-brand p-6 rounded-r-lg my-6">
              <div class="flex items-start space-x-4">
                <i class="ri-double-quotes-l text-3xl text-roig mt-1"></i>
                <div>
                  <p class="text-xl italic text-white leading-relaxed">
                    {{ 'GALERIA.HISTORIA_CITA' | translate }}
                  </p>
                  <p class="text-gray-400 mt-2 text-sm">{{ 'GALERIA.HISTORIA_CITA_AUTOR' | translate }}</p>
                </div>
              </div>
            </div>

            <!-- Valores y Filosof칤a -->
            <div class="space-y-6">
              <h3 class="text-2xl font-bold text-roig">{{ 'GALERIA.HISTORIA_VALORES' | translate }}</h3>
              <p class="text-lg text-gray-300">
                {{ 'GALERIA.HISTORIA_VALORES_INTRO' | translate }}
              </p>
              
              <div class="grid md:grid-cols-2 gap-6 mt-4">
                <div class="space-y-4">
                  <div class="flex items-start space-x-3 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition-colors">
                    <span class="text-roig text-xl mt-1">游댠</span>
                    <div>
                      <h4 class="font-semibold text-white mb-1">{{ 'GALERIA.VALOR_1' | translate }}</h4>
                      <p class="text-gray-400 text-sm">{{ 'GALERIA.VALOR_1_DESC' | translate }}</p>
                    </div>
                  </div>
                  
                  <div class="flex items-start space-x-3 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition-colors">
                    <span class="text-roig text-xl mt-1">游뱆</span>
                    <div>
                      <h4 class="font-semibold text-white mb-1">{{ 'GALERIA.VALOR_2' | translate }}</h4>
                      <p class="text-gray-400 text-sm">{{ 'GALERIA.VALOR_2_DESC' | translate }}</p>
                    </div>
                  </div>
                  
                  <div class="flex items-start space-x-3 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition-colors">
                    <span class="text-roig text-xl mt-1">游꿠</span>
                    <div>
                      <h4 class="font-semibold text-white mb-1">{{ 'GALERIA.VALOR_3' | translate }}</h4>
                      <p class="text-gray-400 text-sm">{{ 'GALERIA.VALOR_3_DESC' | translate }}</p>
                    </div>
                  </div>
                </div>
                
                <div class="space-y-4">
                  <div class="flex items-start space-x-3 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition-colors">
                    <span class="text-roig text-xl mt-1">游꼢</span>
                    <div>
                      <h4 class="font-semibold text-white mb-1">{{ 'GALERIA.VALOR_4' | translate }}</h4>
                      <p class="text-gray-400 text-sm">{{ 'GALERIA.VALOR_4_DESC' | translate }}</p>
                    </div>
                  </div>
                  
                  <div class="flex items-start space-x-3 p-4 bg-gray-800/30 rounded-lg hover:bg-gray-800/50 transition-colors">
                    <span class="text-roig text-xl mt-1">游눩</span>
                    <div>
                      <h4 class="font-semibold text-white mb-1">{{ 'GALERIA.VALOR_5' | translate }}</h4>
                      <p class="text-gray-400 text-sm">{{ 'GALERIA.VALOR_5_DESC' | translate }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Perspectivas de Futuro -->
            <div class="space-y-6 pt-6 ">
              <h3 class="text-2xl font-bold text-roig">{{ 'GALERIA.HISTORIA_FUTURO' | translate }}</h3>
              <p class="text-lg text-gray-300">
                {{ 'GALERIA.HISTORIA_FUTURO_INTRO' | translate }}
              </p>
              
              <div class="space-y-4 mt-4">
                <div class="flex items-center space-x-4 p-4 bg-page rounded-lg border border-brand">
                  <i class="ri-team-line text-roig text-2xl"></i>
                  <div>
                    <h4 class="font-semibold text-white">{{ 'GALERIA.OBJETIVO_1' | translate }}</h4>
                    <p class="text-gray-300">{{ 'GALERIA.OBJETIVO_1_DESC' | translate }}</p>
                  </div>
                </div>
                
                <div class="flex items-center space-x-4 p-4 bg-page rounded-lg border border-brand">
                  <i class="ri-calendar-2-line text-roig text-2xl"></i>
                  <div>
                    <h4 class="font-semibold text-white">{{ 'GALERIA.OBJETIVO_2' | translate }}</h4>
                    <p class="text-gray-300">{{ 'GALERIA.OBJETIVO_2_DESC' | translate }}</p>
                  </div>
                </div>
                
                <div class="flex items-center space-x-4 p-4 bg-page rounded-lg border border-brand">
                  <i class="ri-global-line text-roig text-2xl"></i>
                  <div>
                    <h4 class="font-semibold text-white">{{ 'GALERIA.OBJETIVO_3' | translate }}</h4>
                    <p class="text-gray-300">{{ 'GALERIA.OBJETIVO_3_DESC' | translate }}</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Impacto en la Ciudad -->
            <div class="bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl p-8 mt-8 border border-gray-700">
              <h3 class="text-2xl font-bold text-roig mb-4">{{ 'GALERIA.HISTORIA_IMPACTO' | translate }}</h3>
              <p class="text-lg leading-relaxed text-gray-300 mb-4">
                {{ 'GALERIA.HISTORIA_IMPACTO_TEXTO' | translate }}
              </p>
              <div class="grid md:grid-cols-2 gap-6 text-sm">
                <div class="space-y-2">
                  <div class="flex items-center space-x-2">
                    <i class="ri-community-line text-roig"></i>
                    <span class="text-gray-300">{{ 'GALERIA.IMPACTO_1' | translate }}</span>
                  </div>
                  <div class="flex items-center space-x-2">
                    <i class="ri-heart-line text-roig"></i>
                    <span class="text-gray-300">{{ 'GALERIA.IMPACTO_2' | translate }}</span>
                  </div>
                </div>
                <div class="space-y-2">
                  <div class="flex items-center space-x-2">
                    <i class="ri-user-heart-line text-roig"></i>
                    <span class="text-gray-300">{{ 'GALERIA.IMPACTO_3' | translate }}</span>
                  </div>
                  <div class="flex items-center space-x-2">
                    <i class="ri-star-line text-roig"></i>
                    <span class="text-gray-300">{{ 'GALERIA.IMPACTO_4' | translate }}</span>
                  </div>
                </div>
              </div>
              <p class="text-lg font-semibold text-white mt-6 text-center">
                {{ 'GALERIA.HISTORIA_IMPACTO_FINAL' | translate }}
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Secci칩n: Carteleras Hist칩ricas -->
      <section id="Carteleras" class="py-16 mb-16 border-t border-gray-700">
        <div class="text-center mb-12">
          <h3 class="text-4xl font-black mb-4 metal-text text-primary">{{ 'GALERIA.CARTELERAS_HISTORICAS' | translate }}</h3>
          <p class="text-lg text-gray-400 max-w-2xl mx-auto">
            {{ 'GALERIA.CARTELERAS_DESC' | translate }}
          </p>
        </div>

        <!-- Grid de Carteleras -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div *ngFor="let cartelera of carteleras; let i = index"
            class="bg-card border border-brand rounded-xl p-6 card-hover group cursor-pointer"
            (click)="abrirCartelera(i)">
            <div class="text-center mb-4">
              <span class="inline-block bg-brand text-primary px-4 py-1 rounded-full text-sm font-bold mb-3">
                {{ cartelera.anyo }}
              </span>
              <p class="text-muted text-sm">{{ cartelera.bandas }} {{ 'GALERIA.BANDAS' | translate | lowercase }}</p>
            </div>
            <div class="bg-page rounded-lg p-4 mb-4">
              <img [src]="cartelera.imagen" [alt]="cartelera.alt" class="w-full h-64 object-cover rounded-lg">
            </div>
            <div class="space-y-2">
              <div class="flex justify-between items-center text-sm">
                <span class="text-muted">{{ 'GALERIA.HEADLINERS' | translate }}:</span>
                <span class="text-brand font-semibold">{{ cartelera.headliners.join(', ') }}</span>
              </div>
              <div class="flex justify-between items-center text-sm">
                <span class="text-muted">{{ 'GALERIA.ASISTENCIA' | translate }}:</span>
                <span class="text-brand font-semibold">{{ cartelera.asistencia }}</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Estad칤sticas hist칩ricas -->
        <div class="mt-12 bg-gray-800/50 border border-gray-600 rounded-xl p-8">
          <h4 class="text-2xl font-bold text-center mb-6 text-primary">{{ 'GALERIA.ESTADISTICAS' | translate }}</h4>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
            <div class="bg-black/30 p-4 rounded-lg">
              <div class="text-3xl font-black text-primary mb-2">{{ totalEdiciones }}</div>
              <div class="text-gray-400 text-sm">{{ 'GALERIA.EDICIONES' | translate }}</div>
            </div>
            <div class="bg-black/30 p-4 rounded-lg">
              <div class="text-3xl font-black text-primary mb-2">{{ totalBandas }}</div>
              <div class="text-gray-400 text-sm">{{ 'GALERIA.BANDAS' | translate }}</div>
            </div>
            <div class="bg-black/30 p-4 rounded-lg">
              <div class="text-3xl font-black text-primary mb-2">{{ totalAsistentes }}</div>
              <div class="text-gray-400 text-sm">{{ 'GALERIA.ASISTENTES' | translate }}</div>
            </div>
            <div class="bg-black/30 p-4 rounded-lg">
              <div class="text-3xl font-black text-primary mb-2">{{ totalPaises }}</div>
              <div class="text-gray-400 text-sm">{{ 'GALERIA.PAISES' | translate }}</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Secci칩n Galer칤a de Fotos -->
      <div class="text-center mb-16">
        <h2 class="text-5xl font-black mb-6 metal-text">{{ 'GALERIA.TITULO' | translate }}</h2>
        <p class="text-xl text-gray-400 max-w-3xl mx-auto">
          {{ 'GALERIA.GALERIA_IMAGENES_DESC' | translate }}
        </p>
      </div>
      
      <!-- Grid de Galer칤a de Fotos -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
        <div *ngFor="let imagen of imagenes; let i = index"
          class="bg-gray-700 rounded-lg overflow-hidden h-64 card-hover cursor-pointer group relative"
          (click)="abrirImagen(i)">
          <img [src]="imagen.url" [alt]="imagen.alt"
            class="w-full h-full object-cover object-top transition-transform duration-300 group-hover:scale-105">
          <div
            class="absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center">
            <i
              class="ri-zoom-in-line text-3xl text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"></i>
          </div>
        </div>
      </div>

      <!-- Bot칩n Volver -->
      <div class="text-center py-20">
        <button (click)="volverAInicio()"
          class="btn-outline-brand px-8 py-3 rounded-lg font-bold transition-all">
          {{ 'GALERIA.VOLVER_INICIO' | translate }}
        </button>
      </div>
    </div>
  </main>

  <!-- Modal/Lightbox para Im치genes de Galer칤a -->
  <div *ngIf="imagenActiva !== null && !carteleraActiva"
    class="fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex items-center justify-center p-4"
    (click)="cerrarImagen()">

    <div class="relative max-w-7xl max-h-[90vh] w-full" (click)="$event.stopPropagation()">
      <button (click)="cerrarImagen()"
        class="absolute -top-4 -right-4 z-10 bg-red-600 hover:bg-red-700 text-white w-10 h-10 rounded-full flex items-center justify-center transition-all shadow-lg">
        <i class="ri-close-line text-xl"></i>
      </button>

      <button *ngIf="imagenes.length > 1" (click)="imagenAnterior()"
        class="absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/70 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all backdrop-blur-sm">
        <i class="ri-arrow-left-s-line text-2xl"></i>
      </button>

      <button *ngIf="imagenes.length > 1" (click)="imagenSiguiente()"
        class="absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/70 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all backdrop-blur-sm">
        <i class="ri-arrow-right-s-line text-2xl"></i>
      </button>

      <div class="flex justify-center items-center h-full">
        <img [src]="imagenes[imagenActiva].url" [alt]="imagenes[imagenActiva].alt"
          class="max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl">
      </div>

      <div
        class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 backdrop-blur-sm text-white px-6 py-3 rounded-full min-w-[200px] text-center">
        <p class="text-sm font-medium">{{ imagenes[imagenActiva].alt }}</p>
        <p class="text-xs text-gray-300 mt-1">
          {{ imagenActiva + 1 }} / {{ imagenes.length }}
        </p>
      </div>
    </div>
  </div>

  <!-- Modal/Lightbox para Carteleras -->
  <div *ngIf="carteleraActiva !== null"
    class="fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex items-center justify-center p-4"
    (click)="cerrarCartelera()">

    <div class="relative max-w-4xl max-h-[90vh] w-full" (click)="$event.stopPropagation()">
      <button (click)="cerrarCartelera()"
        class="absolute -top-4 -right-4 z-10 bg-red-600 hover:bg-red-700 text-white w-10 h-10 rounded-full flex items-center justify-center transition-all shadow-lg">
        <i class="ri-close-line text-xl"></i>
      </button>

      <button *ngIf="carteleras.length > 1" (click)="carteleraAnterior()"
        class="absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/70 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all backdrop-blur-sm">
        <i class="ri-arrow-left-s-line text-2xl"></i>
      </button>

      <button *ngIf="carteleras.length > 1" (click)="carteleraSiguiente()"
        class="absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/70 text-white w-12 h-12 rounded-full flex items-center justify-center transition-all backdrop-blur-sm">
        <i class="ri-arrow-right-s-line text-2xl"></i>
      </button>

      <div class="flex justify-center items-center h-full">
        <img [src]="carteleras[carteleraActiva].imagen" [alt]="carteleras[carteleraActiva].alt"
          class="max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl">
      </div>

      <div
        class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 backdrop-blur-sm text-white px-6 py-3 rounded-full min-w-[300px] text-center">
        <p class="text-sm font-medium">{{ 'GALERIA.CARTELERA' | translate }} {{ carteleras[carteleraActiva].anyo }}</p>
        <p class="text-xs text-gray-300 mt-1">
          {{ carteleraActiva + 1 }} / {{ carteleras.length }}
        </p>
      </div>
    </div>
  </div>
</div>